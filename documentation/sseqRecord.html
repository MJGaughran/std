<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <title>The sseq record</title>
</head>
<body>
<h1>
The sseq (string sequence) record</h1>
<a NAME="HEADING34-1"></a>
<h1>
1. Introduction</h1>

<hr>The String Sequence record is similar to the Sequence record, and
has all of its capabilities, but it also can link from either string or
double fields to either string or double fields. The record is used to
trigger the processing of up to ten other records and send values to
those records. It is similar to the fanout record, except that it will
fetch an input value and write an output value instead of simply
processing a collection of forward links. It can also specify one of
several selection algorithms that determine which values to write. It
has no associated device support. Its fields fall into the following
categories:
<p>&nbsp;scan parameters
<p>&nbsp;desired output parameters
<p>&nbsp;output parameters
<p>&nbsp;selection algorithm parameters
<p>&nbsp;delay parameters
<p>&nbsp;operator display parameters
<p>&nbsp;run-time parameters
<p><a NAME="HEADING34-10"></a>
<h1>
2. Scan Parameters</h1>

<hr>The sequence record has the standard fields for specifying under what
circumstances it will be processed.  See the EPICS Record Reference Manual for more information.
<p><a NAME="HEADING34-12"></a>
<h1>
3. Desired Output Parameters</h1>

<hr>These fields determine where the record retrieves the values it is
to write to other records. All of these values are not necessarily used,
depending on the selection algorithm.
<p>&nbsp;The sequence record can retrieve up to 10 values from 10 locations.
The user specifies the locations in the Desired Output Link fields (DOL1-DOLA),
which can be either constants, database links, or channel access links.
If a Desired Output Link is a constant, the corresponding value field for
that link is initialized to the constant value and <i>cannot</i> be changed
via dbputs. Otherwise, if the Desired Output Link is a database or channel
access link, a value is fetched from the link each time the record is processed
(provided that the output link is part of the record's selection algorithm).
See the EPICS Record Reference Manual for information on how to specify database links.
<p>&nbsp;The value fetched from the Desired Output Links are stored in
the corresponding Desired Output Value fields (DO1-DOA). These fields can
be initialized to a constant value, but they cannot be changed via dbPuts.
<table BORDER >
<tr>
<th>Field</th>

<th>Summary</th>

<th>Type</th>

<th>DCT</th>

<th>Initial</th>

<th>Access</th>

<th>Modify</th>

<th>Rec Proc Monitor</th>

<th>PP</th>
</tr>

<tr>
<td>DOL1</td>

<td>Desired Output Link 1</td>

<td>INLINK</td>

<td>Yes</td>

<td>0</td>

<td>Yes</td>

<td>Yes</td>

<td>N/A</td>

<td>No</td>
</tr>

<tr>
<td>DOL2</td>

<td>Desired Output Link 2</td>

<td>INLINK</td>

<td>Yes</td>

<td>0</td>

<td>Yes</td>

<td>Yes</td>

<td>N/A</td>

<td>No</td>
</tr>

<tr>
<td>DOL3</td>

<td>Desired Output Link 3</td>

<td>INLINK</td>

<td>Yes</td>

<td>0</td>

<td>Yes</td>

<td>Yes</td>

<td>N/A</td>

<td>No</td>
</tr>

<tr>
<td>DOL4</td>

<td>Desired Output Link 4</td>

<td>INLINK</td>

<td>Yes</td>

<td>0</td>

<td>Yes</td>

<td>Yes</td>

<td>N/A</td>

<td>No</td>
</tr>

<tr>
<td>DOL5</td>

<td>Desired Output Link 5</td>

<td>INLINK</td>

<td>Yes</td>

<td>0</td>

<td>Yes</td>

<td>Yes</td>

<td>N/A</td>

<td>No</td>
</tr>

<tr>
<td>DOL6</td>

<td>Desired Output Link 6</td>

<td>INLINK</td>

<td>Yes</td>

<td>0</td>

<td>Yes</td>

<td>Yes</td>

<td>N/A</td>

<td>No</td>
</tr>

<tr>
<td>DOL7</td>

<td>Desired Output Link 71</td>

<td>INLINK</td>

<td>Yes</td>

<td>0</td>

<td>Yes</td>

<td>Yes</td>

<td>N/A</td>

<td>No</td>
</tr>

<tr>
<td>DOL8</td>

<td>Desired Output Link 8</td>

<td>INLINK</td>

<td>Yes</td>

<td>0</td>

<td>Yes</td>

<td>Yes</td>

<td>N/A</td>

<td>No</td>
</tr>

<tr>
<td>DOL9</td>

<td>Desired Output Link 9</td>

<td>INLINK</td>

<td>Yes</td>

<td>0</td>

<td>Yes</td>

<td>Yes</td>

<td>N/A</td>

<td>No</td>
</tr>

<tr>
<td>DOLA</td>

<td>Desired Output Link 10</td>

<td>INLINK</td>

<td>Yes</td>

<td>0</td>

<td>Yes</td>

<td>Yes</td>

<td>N/A</td>

<td>No</td>
</tr>

<tr>
<td>DO1</td>

<td>Desired Output Value, Link 1</td>

<td>DOUBLE</td>

<td>No</td>

<td>0</td>

<td>Yes</td>

<td>Yes</td>

<td>No</td>

<td>No</td>
</tr>

<tr>
<td>DO2</td>

<td>Desired Output Value, Link 2</td>

<td>DOUBLE</td>

<td>No</td>

<td>0</td>

<td>Yes</td>

<td>Yes</td>

<td>No</td>

<td>No</td>
</tr>

<tr>
<td>DO3</td>

<td>Desired Output Value, Link 3</td>

<td>DOUBLE</td>

<td>No</td>

<td>0</td>

<td>Yes</td>

<td>Yes</td>

<td>No</td>

<td>No</td>
</tr>

<tr>
<td>DO4</td>

<td>Desired Output Value, Link 4</td>

<td>DOUBLE</td>

<td>No</td>

<td>0</td>

<td>Yes</td>

<td>Yes</td>

<td>No</td>

<td>No</td>
</tr>

<tr>
<td>DO5</td>

<td>Desired Output Value, Link 5</td>

<td>DOUBLE</td>

<td>No</td>

<td>0</td>

<td>Yes</td>

<td>Yes</td>

<td>No</td>

<td>No</td>
</tr>

<tr>
<td>DO6</td>

<td>Desired Output Value, Link 6</td>

<td>DOUBLE</td>

<td>No</td>

<td>0</td>

<td>Yes</td>

<td>Yes</td>

<td>No</td>

<td>No</td>
</tr>

<tr>
<td>DO7</td>

<td>Desired Output Value, Link 7</td>

<td>DOUBLE</td>

<td>No</td>

<td>0</td>

<td>Yes</td>

<td>Yes</td>

<td>No</td>

<td>No</td>
</tr>

<tr>
<td>DO8</td>

<td>Desired Output Value, Link 8</td>

<td>DOUBLE</td>

<td>No</td>

<td>0</td>

<td>Yes</td>

<td>Yes</td>

<td>No</td>

<td>No</td>
</tr>

<tr>
<td>DO9</td>

<td>Desired Output Value, Link 9</td>

<td>DOUBLE</td>

<td>No</td>

<td>0</td>

<td>Yes</td>

<td>Yes</td>

<td>No</td>

<td>No</td>
</tr>

<tr>
<td>DOA</td>

<td>Desired Output Value, Link 10&nbsp;</td>

<td>DOUBLE</td>

<td>No</td>

<td>0</td>

<td>Yes</td>

<td>Yes</td>

<td>No</td>

<td>No</td>
</tr>

<tr>
<td>STR1</td>

<td>Desired Output String, Link 1</td>

<td>STRING</td>

<td>No</td>

<td>0</td>

<td>Yes</td>

<td>Yes</td>

<td>No</td>

<td>No</td>
</tr>

<tr>
<td>STR2</td>

<td>Desired Output String, Link 2</td>

<td>STRING</td>

<td>No</td>

<td>0</td>

<td>Yes</td>

<td>Yes</td>

<td>No</td>

<td>No</td>
</tr>

<tr>
<td>STR3</td>

<td>Desired Output String, Link 3</td>

<td>STRING</td>

<td>No</td>

<td>0</td>

<td>Yes</td>

<td>Yes</td>

<td>No</td>

<td>No</td>
</tr>

<tr>
<td>STR4</td>

<td>Desired Output String, Link 4</td>

<td>STRING</td>

<td>No</td>

<td>0</td>

<td>Yes</td>

<td>Yes</td>

<td>No</td>

<td>No</td>
</tr>

<tr>
<td>STR5</td>

<td>Desired Output String, Link 5</td>

<td>STRING</td>

<td>No</td>

<td>0</td>

<td>Yes</td>

<td>Yes</td>

<td>No</td>

<td>No</td>
</tr>

<tr>
<td>STR6</td>

<td>Desired Output String, Link 6</td>

<td>STRING</td>

<td>No</td>

<td>0</td>

<td>Yes</td>

<td>Yes</td>

<td>No</td>

<td>No</td>
</tr>

<tr>
<td>STR7</td>

<td>Desired Output String, Link 7</td>

<td>STRING</td>

<td>No</td>

<td>0</td>

<td>Yes</td>

<td>Yes</td>

<td>No</td>

<td>No</td>
</tr>

<tr>
<td>STR8</td>

<td>Desired Output String, Link 8</td>

<td>STRING</td>

<td>No</td>

<td>0</td>

<td>Yes</td>

<td>Yes</td>

<td>No</td>

<td>No</td>
</tr>

<tr>
<td>STR9</td>

<td>Desired Output String, Link 9</td>

<td>STRING</td>

<td>No</td>

<td>0</td>

<td>Yes</td>

<td>Yes</td>

<td>No</td>

<td>No</td>
</tr>

<tr>
<td>STRA</td>

<td>Desired Output String, Link 10&nbsp;</td>

<td>STRING</td>

<td>No</td>

<td>0</td>

<td>Yes</td>

<td>Yes</td>

<td>No</td>

<td>No</td>
</tr>



</table>

<p><a NAME="HEADING34-16"></a>
<h1>
4. Output Parameters</h1>

<hr>When the record is processed, the desired output values are retrieved
for the links in the record's selection algorithm and are written to the
corresponding output link (LNK1-LNKA). These output links can be database
links or channel access links; they cannot be device addresses. There are
ten output links, one for each desired output link. Only those that are
defined are used.
<table BORDER >
<tr>
<th>Field</th>

<th>Summary</th>

<th>Type</th>

<th>DCT</th>

<th>Initial</th>

<th>Access</th>

<th>Modify</th>

<th>Rec Proc Monitor</th>

<th>PP</th>
</tr>

<tr>
<td>LNK1</td>

<td>Output link 1</td>

<td>OUTLINK</td>

<td>Yes</td>

<td>0</td>

<td>No</td>

<td>No</td>

<td>N/A</td>

<td>No</td>
</tr>

<tr>
<td>LNK2</td>

<td>Output link 2</td>

<td>OUTLINK</td>

<td>Yes</td>

<td>0</td>

<td>No</td>

<td>No</td>

<td>N/A</td>

<td>No</td>
</tr>

<tr>
<td>LNK3</td>

<td>Output link 3</td>

<td>OUTLINK</td>

<td>Yes</td>

<td>0</td>

<td>No</td>

<td>No</td>

<td>N/A</td>

<td>No</td>
</tr>

<tr>
<td>LNK4</td>

<td>Output link 4</td>

<td>OUTLINK</td>

<td>Yes</td>

<td>0</td>

<td>No</td>

<td>No</td>

<td>N/A</td>

<td>No</td>
</tr>

<tr>
<td>LNK5</td>

<td>Output link 5</td>

<td>OUTLINK</td>

<td>Yes</td>

<td>0</td>

<td>No</td>

<td>No</td>

<td>N/A</td>

<td>No</td>
</tr>

<tr>
<td>LNK6</td>

<td>Output link 6</td>

<td>OUTLINK</td>

<td>Yes</td>

<td>0</td>

<td>No</td>

<td>No</td>

<td>N/A</td>

<td>No</td>
</tr>

<tr>
<td>LNK7</td>

<td>Output link 7</td>

<td>OUTLINK</td>

<td>Yes</td>

<td>0</td>

<td>No</td>

<td>No</td>

<td>N/A</td>

<td>No</td>
</tr>

<tr>
<td>LNK8</td>

<td>Output link 8</td>

<td>OUTLINK</td>

<td>Yes</td>

<td>0</td>

<td>No</td>

<td>No</td>

<td>N/A</td>

<td>No</td>
</tr>

<tr>
<td>LNK9</td>

<td>Output link 9</td>

<td>OUTLINK</td>

<td>Yes</td>

<td>0</td>

<td>No</td>

<td>No</td>

<td>N/A</td>

<td>No</td>
</tr>

<tr>
<td>LNKA</td>

<td>Output link 1</td>

<td>OUTLINK</td>

<td>Yes</td>

<td>0</td>

<td>No</td>

<td>No</td>

<td>N/A</td>

<td>No</td>
</tr>
</table>

<p><a NAME="HEADING34-18"></a>
<h1>
5. Selection Algorithm Parameters</h1>

<hr>When the sequence record is processed, it uses a selection algorithm
similar to that of the selection record to decide which links to process.The
select mechanism field (SELM) has four algorithms to choose from: <tt>All</tt>,
<tt>Specified</tt> or <tt>Mask</tt>.
<p>&nbsp;The <tt>All</tt> algorithm causes the record to process each input
and output link each time the record is processed, in order from 1 to 10.
So when SELM is <tt>All</tt>, the desired output value from DOL1 will fetched
and sent to LNK1, then the desired output value from DOL2 will be fetched
and sent to the location in LNK2, and so on until the last input and output
link DOA and LNKA. (Note that undefined links are not used.) If DOL<i>x</i>
is a constant, the current value field is simply used and the desired output
link is ignored. The SELN field is not used when <tt>All</tt> is the algorithm.
<p>&nbsp;When the <tt>Specified</tt> algorithm is chosen, each time the
record is processed it gets the integer value in the Link Selection (SELN)
field and uses that as the index of the link to process. For instance,
if SELN is 4, the desired output value from DO4 will be retrieved and sent
to LNK4. If DOL<i>x</i> is a constant, DO<i>x</i> is simply used without
the value being fetched from the input link.
<p>&nbsp;When Mask is chosen, each time the record is processed, the record
uses the integer value from the SELN field as a mask to determine the links
to process. For instance, if SELN is 1, then the value from DO1 will be
written to the location in LNK1. If SELN is 3, the record will retrieve
the values from DO1 and DO2 and write them to the locations in LNK1 and
LNK2, respectively. If SELN is 63, DO1...DO6 will be written to LNK1...LNK6.
<p>&nbsp;LNK2. If SELN is 63, DO1...DO6 will be written to LNK1...LNK6.
<table BORDER >
<tr>
<th>Field</th>

<th>Summary</th>

<th>Type</th>

<th>DCT</th>

<th>Initial</th>

<th>Access</th>

<th>Modify</th>

<th>Rec Proc Monitor</th>

<th>PP</th>
</tr>

<tr>
<td>SELM</td>

<td>Select Mechanism</td>

<td>RECCHOICE</td>

<td>Yes</td>

<td>0</td>

<td>Yes</td>

<td>Yes</td>

<td>No</td>

<td>No</td>
</tr>

<tr>
<td>SELN&nbsp;</td>

<td>Link Selection&nbsp;</td>

<td>USHORT</td>

<td>No</td>

<td>1</td>

<td>Yes</td>

<td>Yes</td>

<td>No</td>

<td>No</td>
</tr>

<tr>
<td>SELL</td>

<td>Link Selection Location&nbsp;</td>

<td>INLINK</td>

<td>Yes</td>

<td>0</td>

<td>No</td>

<td>No</td>

<td>N/A</td>

<td>No</td>
</tr>
</table>

<p><a NAME="HEADING34-24"></a>
<h1>
6. Delay Parameters</h1>

<hr>The delay parameters consist of 10 fields, one for each I/O link discussed
above. These fields can be configured to cause the record to delay processing
the link. For instance, if the user gives the DLY1 field a value of 3.0,
each time the record is processed at run-time, the record will delay processing
the DOL1, DOV1, and LNK1 fields for three seconds. That is, the desired
output value will not be fetched and written to the output link until three
seconds have lapsed.
<table BORDER >
<tr>
<th>Field</th>

<th>Summary</th>

<th>Type</th>

<th>DCT</th>

<th>Initial</th>

<th>Access</th>

<th>Modify</th>

<th>Rec Proc Monitor</th>

<th>PP</th>
</tr>

<tr>
<td>DLY1</td>

<td>Delay time</td>

<td>DOUBLE</td>

<td>Yes</td>

<td>0</td>

<td>Yes</td>

<td>Yes</td>

<td>No</td>

<td>No</td>
</tr>

<tr>
<td>DLY2</td>

<td>Delay time</td>

<td>DOUBLE</td>

<td>Yes</td>

<td>0</td>

<td>Yes</td>

<td>Yes</td>

<td>No</td>

<td>No</td>
</tr>

<tr>
<td>DLY3</td>

<td>Delay time</td>

<td>DOUBLE</td>

<td>Yes</td>

<td>0</td>

<td>Yes</td>

<td>Yes</td>

<td>No</td>

<td>No</td>
</tr>

<tr>
<td>DLY4</td>

<td>Delay time</td>

<td>DOUBLE</td>

<td>Yes</td>

<td>0</td>

<td>Yes</td>

<td>Yes</td>

<td>No</td>

<td>No</td>
</tr>

<tr>
<td>DLY5</td>

<td>Delay time</td>

<td>DOUBLE</td>

<td>Yes</td>

<td>0</td>

<td>Yes</td>

<td>Yes</td>

<td>No</td>

<td>No</td>
</tr>

<tr>
<td>DLY6</td>

<td>Delay time</td>

<td>DOUBLE</td>

<td>Yes</td>

<td>0</td>

<td>Yes</td>

<td>Yes</td>

<td>No</td>

<td>No</td>
</tr>

<tr>
<td>DLY7</td>

<td>Delay time</td>

<td>DOUBLE</td>

<td>Yes</td>

<td>0</td>

<td>Yes</td>

<td>Yes</td>

<td>No</td>

<td>No</td>
</tr>

<tr>
<td>DLY8</td>

<td>Delay time</td>

<td>DOUBLE</td>

<td>Yes</td>

<td>0</td>

<td>Yes</td>

<td>Yes</td>

<td>No</td>

<td>No</td>
</tr>

<tr>
<td>DLY9</td>

<td>Delay time</td>

<td>DOUBLE</td>

<td>Yes</td>

<td>0</td>

<td>Yes</td>

<td>Yes</td>

<td>No</td>

<td>No</td>
</tr>

<tr>
<td>DLYA</td>

<td>Delay time</td>

<td>DOUBLE</td>

<td>Yes</td>

<td>0</td>

<td>Yes</td>

<td>Yes</td>

<td>No</td>

<td>No</td>
</tr>
</table>

<p><a NAME="HEADING34-26"></a>
<h1>
7. Operator Display Parameters</h1>

<hr>These parameters are used to present meaningful data to the operator.
The Precision field (PREC) determines the decimal precision for the VAL
field when it is displayed. It is used when the <tt>get_precision</tt>
record routine is called.
<p>See the EPICS Record Reference Manual for more on the record name (NAME) and description
(DESC) fields.
<table BORDER >
<tr>
<th>Field</th>

<th>Summary</th>

<th>Type</th>

<th>DCT</th>

<th>Initial</th>

<th>Access</th>

<th>Modify</th>

<th>Rec Proc Monitor</th>

<th>PP</th>
</tr>

<tr>
<td>PREC&nbsp;</td>

<td>Display Precision&nbsp;</td>

<td>SHORT</td>

<td>Yes</td>

<td>0</td>

<td>Yes</td>

<td>Yes</td>

<td>No</td>

<td>No</td>
</tr>

<tr>
<td>NAME</td>

<td>Record Name</td>

<td>STRING [29]</td>

<td>Yes</td>

<td>0</td>

<td>Yes</td>

<td>No</td>

<td>No</td>

<td>No</td>
</tr>

<tr>
<td>DESC</td>

<td>Description</td>

<td>STRING [29]</td>

<td>Yes</td>

<td>Null</td>

<td>Yes</td>

<td>Yes</td>

<td>No</td>

<td>No</td>
</tr>
</table>

<p><a NAME="HEADING34-29"></a>
<h1>
8. Alarm Parameters</h1>

<hr>The sequence record has the alarm parameters common to all record types.
See the EPICS Record Reference Manual for details.
<p><a NAME="HEADING34-31"></a>
<h1>
9. Record Support Routines</h1>

<hr>The only record support routine is process.
<br>&nbsp;
<br>&nbsp;
<dl>
<dd>
1. First, PACT is set to TRUE, and the link selection is fetched. Depending
on the selection mechanism, the link selection output links are processed
in order from LNK1 to LNKA. When LNK<i>n</i> is processed, the corresponding
DLY<i>n</i> value is used to generate a delay via watchdog timer.</dd>

<dd>
2. After DLY<i>n</i> seconds have expired, the input value is fetched from
DO<i>n</i> (if DOL<i>n</i> is constant) or DOL<i>n</i> (if DOL<i>n</i>
is a database link or channel access link) and written to LNK<i>n</i>.</dd>

<dd>
3. When all links are completed, an asynchronous completion call back to
dbProcess is made (see the Application Developer's Guide for more information
on asynchronous processing.)</dd>

<dd>
4. Then UDF is set to FALSE.</dd>

<dd>
5. Monitors are checked.</dd>

<br>&nbsp;
<p>&nbsp;
<dd>
6. The forward link is scanned, PACT is set FALSE, and the process routine
returns.</dd>

<br>&nbsp;
<p>&nbsp;</dl>
For the delay mechanism to operate properly, the record is processed asynchronously.
The only time the record will not be processed asynchronously is when there
are no non-NULL output links selected (i.e. when it has nothing to do.)
The processing of the links is done via callback tasks at the priority
set in the PRIO field in dbCommon (see the Application Developer's Guide
for more information on call
<p><!-- TOC -->
<dl>
<dt>
<a href="Recordref-34.html#HEADING34-1"><b>1. </b>- Introduction</a></dt>

<dt>
<a href="Recordref-34.html#HEADING34-10"><b>2. </b>- Scan Parameters</a></dt>

<dt>
<a href="Recordref-34.html#HEADING34-12"><b>3. </b>- Desired Output Parameters</a></dt>

<dt>
<a href="Recordref-34.html#HEADING34-16"><b>4. </b>- Output Parameters</a></dt>

<dt>
<a href="Recordref-34.html#HEADING34-18"><b>5. </b>- Selection Algorithm
Parameters</a></dt>

<dt>
<a href="Recordref-34.html#HEADING34-24"><b>6. </b>- Delay Parameters</a></dt>

<dt>
<a href="Recordref-34.html#HEADING34-26"><b>7. </b>- Operator Display Parameters</a></dt>

<dt>
<a href="Recordref-34.html#HEADING34-29"><b>8. </b>- Alarm Parameters</a></dt>

<dt>
<a href="Recordref-34.html#HEADING34-31"><b>9. </b>- Record Support Routines</a></dt>

<dd>
</dd>
</dl>

<hr>
<br>&nbsp;
</body>
</html>
