#! Generated by VisualDCT v2.5
#! DBDSTART
#! DBDEND


record(ai, "$(P)timer$(N):secsPastEpoch") {
  field(DESC, "Seconds Past Epoch")
  field(SCAN, "Passive")
  field(PINI, "NO")
  field(DTYP, "Sec Past Epoch")
  field(PHAS, "1")
  field(PREC, "3")
}

record(bo, "$(P)timer$(N):reset") {
  field(UDF, "0")
  field(DOL, "1")
  field(OUT, "$(P)timer$(N):calcElapsed.D PP")
  field(PINI, "YES")
  field(FLNK, "$(P)timer$(N):startTime")
}

record(transform, "$(P)timer$(N):calcElapsed") {
  field(SCAN, "Passive")
  field(CLCB, "d?a:b")
  field(CLCC, "a-b")
  field(CLCD, "0")
  field(INPA, "$(P)timer$(N):secsPastEpoch.VAL PP")
  field(OUTC, "$(P)timer$(N):elapsedSecs.VAL PP")
  field(PREC, "3")
  field(CLCF, "e-c")
  field(CLCG, "e?e-c:0")
  field(OUTF, "$(P)timer$(N):doneCalc.C PP")
  field(CMTA, "raw secsPastEpoch")
  field(CMTB, "start time")
  field(CMTC, "elapsed time")
  field(CMTD, "reset command")
  field(CMTE, "preset")
  field(CMTF, "time remaining")
  field(CMTG, "remaining for display")
}

record(ao, "$(P)timer$(N):elapsedSecs") {
  field(PREC, "3")
}

record(bo, "$(P)timer$(N):Go") {
  field(FLNK, "$(P)timer$(N):resetOnGo")
  field(ZNAM, "Stop")
  field(ONAM, "Go")
}

record(stringin, "$(P)timer$(N):currentTime") {
  field(SCAN, "Passive")
  field(DTYP, "Soft Timestamp")
  field(INP, "@%Y/%m/%d %H:%M:%S.%03f")
}

record(calcout, "$(P)timer$(N):doneCalc") {
  field(CALC, "(a>0)&&b&&(c<=0)")
  field(INPA, "$(P)timer$(N):calcElapsed.E")
  field(INPB, "$(P)timer$(N):Go.VAL")
  field(OUT, "$(P)timer$(N):doStop PP")
  field(OOPT, "When Non-zero")
  field(DOPT, "Use OCAL")
  field(OCAL, "0")
}

record(ao, "$(P)timer$(N):preset") {
  field(PREC, "3")
  field(OUT, "$(P)timer$(N):calcElapsed.E PP")
}

record(bo, "$(P)timer$(N):resetOnGo") {
  field(UDF, "0")
  field(DOL, "1")
  field(OUT, "$(P)timer$(N):calcElapsed.D PP")
  field(PINI, "YES")
  field(DISV, "0")
  field(SDIS, "$(P)timer$(N):Go.VAL")
  field(FLNK, "$(P)timer$(N):startTime")
}

record(stringin, "$(P)timer$(N):startTime") {
  field(SCAN, "Passive")
  field(DTYP, "Soft Timestamp")
  field(INP, "@%Y/%m/%d %H:%M:%S.%03f")
}

record(bo, "$(P)timer$(N):doStop") {
  field(OUT, "$(P)timer$(N):Go PP")
}

record(fanout, "$(P)timer$(N):scanFanout") {
  field(LNK1, "$(P)timer$(N):currentTime")
  field(LNK2, "$(P)timer$(N):calcElapsed")
}

record(bo, "$(P)timer$(N):update") {
  field(SCAN, ".1 second")
  field(FLNK, "$(P)timer$(N):scanFanout")
  field(DISV, "0")
  field(SDIS, "$(P)timer$(N):Go")
}


record(bo, "$(P)timer$(N):updateCurrent") {
  field(SCAN, "1 second")
  field(FLNK, "$(P)timer$(N):currentTime")
  field(SDIS, "$(P)timer$(N):Go")
}

#! Further lines contain data used by VisualDCT
#! View(1055,168,1.1)
#! Record("$(P)timer$(N):secsPastEpoch",1360,439,0,0,"$(P)timer$(N):secsPastEpoch")
#! Field("$(P)timer$(N):secsPastEpoch.VAL",16777215,1,"$(P)timer$(N):secsPastEpoch.VAL")
#! Record("$(P)timer$(N):reset",1360,693,0,1,"$(P)timer$(N):reset")
#! Field("$(P)timer$(N):reset.OUT",16777215,1,"$(P)timer$(N):reset.OUT")
#! Link("$(P)timer$(N):reset.OUT","$(P)timer$(N):reset/OUT")
#! Field("$(P)timer$(N):reset.FLNK",16777215,1,"$(P)timer$(N):reset.FLNK")
#! Link("$(P)timer$(N):reset.FLNK","$(P)timer$(N):startTime")
#! Connector("$(P)timer$(N):reset/OUT","$(P)timer$(N):calcElapsed.D",1580,740,16777215,"",0)
#! Record("$(P)timer$(N):calcElapsed",1860,305,0,0,"$(P)timer$(N):calcElapsed")
#! Field("$(P)timer$(N):calcElapsed.INPA",16777215,0,"$(P)timer$(N):calcElapsed.INPA")
#! Link("$(P)timer$(N):calcElapsed.INPA","$(P)timer$(N):secsPastEpoch.VAL")
#! Field("$(P)timer$(N):calcElapsed.OUTC",16777215,1,"$(P)timer$(N):calcElapsed.OUTC")
#! Link("$(P)timer$(N):calcElapsed.OUTC","$(P)timer$(N):elapsedSecs.VAL")
#! Field("$(P)timer$(N):calcElapsed.D",16777215,0,"$(P)timer$(N):calcElapsed.D")
#! Field("$(P)timer$(N):calcElapsed.E",16777215,1,"$(P)timer$(N):calcElapsed.E")
#! Field("$(P)timer$(N):calcElapsed.OUTF",16777215,1,"$(P)timer$(N):calcElapsed.OUTF")
#! Link("$(P)timer$(N):calcElapsed.OUTF","$(P)timer$(N):calcElapsed/OUTF")
#! Connector("$(P)timer$(N):calcElapsed/OUTF","$(P)timer$(N):doneCalc.C",2100,760,16777215,"",0)
#! Record("$(P)timer$(N):elapsedSecs",2160,589,0,1,"$(P)timer$(N):elapsedSecs")
#! Field("$(P)timer$(N):elapsedSecs.VAL",16777215,0,"$(P)timer$(N):elapsedSecs.VAL")
#! Record("$(P)timer$(N):Go",980,381,0,1,"$(P)timer$(N):Go")
#! Field("$(P)timer$(N):Go.VAL",16777215,1,"$(P)timer$(N):Go.VAL")
#! Field("$(P)timer$(N):Go.FLNK",16777215,1,"$(P)timer$(N):Go.FLNK")
#! Link("$(P)timer$(N):Go.FLNK","$(P)timer$(N):resetOnGo")
#! Record("$(P)timer$(N):currentTime",1860,321,0,0,"$(P)timer$(N):currentTime")
#! Visibility("$(P)timer$(N):currentTime.SCAN",1)
#! Record("$(P)timer$(N):doneCalc",2180,625,0,1,"$(P)timer$(N):doneCalc")
#! Field("$(P)timer$(N):doneCalc.INPA",16777215,0,"$(P)timer$(N):doneCalc.INPA")
#! Link("$(P)timer$(N):doneCalc.INPA","$(P)timer$(N):doneCalc/INPA")
#! Field("$(P)timer$(N):doneCalc.INPB",16777215,0,"$(P)timer$(N):doneCalc.INPB")
#! Link("$(P)timer$(N):doneCalc.INPB","$(P)timer$(N):doneCalc/INPB")
#! Field("$(P)timer$(N):doneCalc.C",16777215,0,"$(P)timer$(N):doneCalc.C")
#! Field("$(P)timer$(N):doneCalc.OUT",16777215,1,"$(P)timer$(N):doneCalc.OUT")
#! Link("$(P)timer$(N):doneCalc.OUT","$(P)timer$(N):doneCalc/OUT1")
#! Connector("$(P)timer$(N):doneCalc/OUT1","$(P)timer$(N):doneCalc/OUT",2420,865,16777215,"",0)
#! Connector("$(P)timer$(N):doneCalc/OUT","$(P)timer$(N):doneCalc/OUT2",2270,880,16777215,"",0)
#! Connector("$(P)timer$(N):doneCalc/OUT2","$(P)timer$(N):doStop.VAL",2120,935,16777215,"",0)
#! Connector("$(P)timer$(N):doneCalc/INPB","$(P)timer$(N):doneCalc/INPB1",2060,915,16777215,"",0)
#! Connector("$(P)timer$(N):doneCalc/INPB1","$(P)timer$(N):doneCalc/INPB2",1640,1020,16777215,"",0)
#! Connector("$(P)timer$(N):doneCalc/INPB2","$(P)timer$(N):Go.VAL",1220,755,16777215,"",0)
#! Connector("$(P)timer$(N):doneCalc/INPA","$(P)timer$(N):calcElapsed.E",2120,730,16777215,"",0)
#! Record("$(P)timer$(N):preset",1360,875,0,1,"$(P)timer$(N):preset")
#! Field("$(P)timer$(N):preset.OUT",16777215,1,"$(P)timer$(N):preset.OUT")
#! Link("$(P)timer$(N):preset.OUT","$(P)timer$(N):preset/OUT")
#! Connector("$(P)timer$(N):preset/OUT","$(P)timer$(N):calcElapsed.E",1600,820,16777215,"",0)
#! Record("$(P)timer$(N):resetOnGo",1360,525,0,0,"$(P)timer$(N):resetOnGo")
#! Field("$(P)timer$(N):resetOnGo.SDIS",16777215,0,"$(P)timer$(N):resetOnGo.SDIS")
#! Link("$(P)timer$(N):resetOnGo.SDIS","$(P)timer$(N):resetOnGo/SDIS")
#! Field("$(P)timer$(N):resetOnGo.OUT",16777215,1,"$(P)timer$(N):resetOnGo.OUT")
#! Link("$(P)timer$(N):resetOnGo.OUT","$(P)timer$(N):resetOnGo/OUT")
#! Field("$(P)timer$(N):resetOnGo.FLNK",16777215,1,"$(P)timer$(N):resetOnGo.FLNK")
#! Link("$(P)timer$(N):resetOnGo.FLNK","$(P)timer$(N):startTime")
#! Connector("$(P)timer$(N):resetOnGo/OUT","$(P)timer$(N):calcElapsed.D",1580,680,16777215,"",0)
#! Connector("$(P)timer$(N):resetOnGo/SDIS","$(P)timer$(N):Go.VAL",1220,590,16777215,"",0)
#! Record("$(P)timer$(N):startTime",1840,721,0,0,"$(P)timer$(N):startTime")
#! Record("$(P)timer$(N):doStop",2180,889,0,1,"$(P)timer$(N):doStop")
#! Field("$(P)timer$(N):doStop.OUT",16777215,1,"$(P)timer$(N):doStop.OUT")
#! Link("$(P)timer$(N):doStop.OUT","$(P)timer$(N):doStop/OUT")
#! Field("$(P)timer$(N):doStop.VAL",16777215,0,"$(P)timer$(N):doStop.VAL")
#! Connector("$(P)timer$(N):doStop/OUT","$(P)timer$(N):doStop/OUT1",2400,1005,16777215,"",0)
#! Connector("$(P)timer$(N):doStop/OUT1","$(P)timer$(N):doStop/OUT2",1660,1040,16777215,"",0)
#! Connector("$(P)timer$(N):doStop/OUT2","$(P)timer$(N):Go.VAL",920,765,16777215,"",0)
#! Record("$(P)timer$(N):scanFanout",1540,295,0,0,"$(P)timer$(N):scanFanout")
#! Field("$(P)timer$(N):scanFanout.LNK1",16777215,1,"$(P)timer$(N):scanFanout.LNK1")
#! Link("$(P)timer$(N):scanFanout.LNK1","$(P)timer$(N):currentTime")
#! Field("$(P)timer$(N):scanFanout.LNK2",16777215,1,"$(P)timer$(N):scanFanout.LNK2")
#! Link("$(P)timer$(N):scanFanout.LNK2","$(P)timer$(N):scanFanout/LNK2")
#! Connector("$(P)timer$(N):scanFanout/LNK2","$(P)timer$(N):calcElapsed",1780,431,16777215,"",0)
#! Record("$(P)timer$(N):update",1280,227,0,1,"$(P)timer$(N):update")
#! Field("$(P)timer$(N):update.FLNK",16777215,1,"$(P)timer$(N):update.FLNK")
#! Link("$(P)timer$(N):update.FLNK","$(P)timer$(N):scanFanout")
#! Field("$(P)timer$(N):update.SDIS",16777215,0,"$(P)timer$(N):update.SDIS")
#! Link("$(P)timer$(N):update.SDIS","$(P)timer$(N):scan/SDIS")
#! Connector("$(P)timer$(N):scan/SDIS","$(P)timer$(N):Go.VAL",1220,430,16777215,"",0)
#! Visibility("$(P)timer$(N):update.SCAN",1)
#! Record("$(P)timer$(N):updateCurrent",1280,121,0,1,"$(P)timer$(N):updateCurrent")
#! Field("$(P)timer$(N):updateCurrent.FLNK",16777215,1,"$(P)timer$(N):updateCurrent.FLNK")
#! Link("$(P)timer$(N):updateCurrent.FLNK","$(P)timer$(N):currentTime")
#! Field("$(P)timer$(N):updateCurrent.SDIS",16777215,0,"$(P)timer$(N):updateCurrent.SDIS")
#! Link("$(P)timer$(N):updateCurrent.SDIS","$(P)timer$(N):Go.VAL")
#! Visibility("$(P)timer$(N):updateCurrent.SCAN",1)
